{% extends 'base.html' %}

{% block content %}
    <h1 style="text-align: center;">Login</h1>
    {% if error %}
        <p style="color: red">{{ error }}</p>
    {% endif %}
    <div class="d-flex justify-content-center" style="min-height: 400px; overflow-y: auto;">
        <form method="post" style="width: 400px;">
            <div class="form-group row">
                <label for="username" class="col-sm-4 col-form-label">Username:</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control" id="username" name="username" style="width: 250px;">
                </div>
            </div>
            <div class="form-group row">
                <label for="password" class="col-sm-4 col-form-label">Password:</label>
                <div class="col-sm-8 position-relative">
                    <div class="input-group">
                        <input type="password" class="form-control" id="password" name="password" style="width: 205px; border-top-right-radius: initial; border-bottom-right-radius: initial; flex: initial;">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" type="button" id="show-password-button" style="height:38px; position: absolute; right: 7; top: 14%; z-index: 99999;">
                                <img src="{{ url_for('static', filename='img/password.png') }}" alt="Show Password" style="height: 20px;">
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-sm-12 text-center">
                    <input type="submit" class="btn btn-primary" value="Login">
                </div>
            </div>
            <div class="form-group row">
                <div class="col-sm-12 text-center">
                    New User? <a href="{{ url_for('signup') }}">Create An Account</a>
                </div>
            </div>
        </form>
    </div>
    <script>
        var passwordField = document.getElementById("password");
        var showPasswordButton = document.getElementById("show-password-button");

        showPasswordButton.addEventListener("click", function() {
            if (passwordField.type === "password") {
                passwordField.type = "text";
            } else {
                passwordField.type = "password";
            }
        });
    </script>
{% endblock %}
